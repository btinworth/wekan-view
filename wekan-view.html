<head>
  <link href='https://fonts.googleapis.com/css?family=Roboto:400,700' rel='stylesheet' type='text/css'>
  <!--<link href='/favicon.png' rel='shortcut icon'>-->
  <title>wekan-view</title>
</head>

<body>
  <div class="title">wekan-view</div>
  <br/>

  {{> info}}
</body>

<template name="info">
  <label for="groupBy">Group By: </label>
  <div class="displayDiv">
    <select id="groupBy">
      {{#each groupByOptions}}
        <option value="{{value}}">{{label}}</option>
      {{/each}}
    </select>
  </div>
  <br/>
  <br/>
  {{#if groupByDate}}
    {{> dateSettings}}
    {{> dateSummary}}
  {{/if}}
  {{#if groupByUser}}
    {{> userSettings}}
    {{> userSummary}}
  {{/if}}
</template>

<template name="dateSettings">
  <label for="displayType">Display Type: </label>
  <div class="displayDiv">
    <select id="displayType">
      {{#each displayTypeOptions}}
        <option value="{{value}}">{{label}}</option>
      {{/each}}
    </select>
  </div>
  <input id="showUsers" type="checkbox"/><label for="showUsers">Show Users</label>
  <input id="showTitles" type="checkbox"/><label for="showTitles">Show Titles</label>
  <br/>
  <br/>
</template>

<template name="dateSummary">
  <div class="dates">
  {{#each dates}}
    <div class="date">{{this}}</div>
    <div class="commits">
      {{#each commits this}}
        <div class="commit">- {{this}}</div>
      {{/each}}
    </div>
    <br/>
  {{/each}}
  </div>
</template>

<template name="userSettings">
  <input id="showCommits" type="checkbox" checked/><label for="showCommits">Show Commits</label>
  <input id="showIssues" type="checkbox" checked/><label for="showIssues">Show Issues</label>
  <input id="showDescriptions" type="checkbox" checked/><label for="showDescriptions">Show Descriptions</label>
  <input id="showComments" type="checkbox" checked/><label for="showComments">Show Comments</label>
  <br/>
  <br/>
</template>

<template name="userSummary">
  <div class="users">
    {{#each users}}
      <div class="date">{{this}}:</div>
      {{#each cards this}}
        <div>
        {{#if commits}}
          <div class="titlecommits">{{commits}}</div>
        {{/if}}
        {{#if issues}}
          <div class="issues">{{issues}} </div>
        {{/if}}
        <div class="cardtitle">{{title}}</div>
        {{#if description}}
          <div class="description">{{description}}</div>
        {{/if}}
        {{#if comments}}
          <div class="comments">
          {{#each comments}}
            <div class="comment">{{this}}</div>
          {{/each}}
          </div>
        {{/if}}
        </div>
        <br/>
      {{/each}}
      <br/>
    {{/each}}
  </div>
</template>
